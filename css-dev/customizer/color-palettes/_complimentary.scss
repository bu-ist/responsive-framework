// =================================================================
// Palette Controls
// =================================================================

$current-palette:                     map-get( $color-palettes, $palette-id );
$use-background-colors:               map-get( $current-palette, 'use-background-colors' );
$content-bg:                          #fff !default;
$border-adjust-amt:                   15% !default;
$adjust-base:                         #fff;

// =================================================================
// Palette Colors
// =================================================================

$color-primary:                       map-get( $current-palette, 'color-primary' );
$color-secondary:                     map-get( $current-palette, 'color-secondary' );
$color-secondary-dark:                mix( #000, $color-secondary, 50% );
$color-tertiary:                      map-get( $current-palette, 'color-tertiary' );
$color-dark:                          map-get( $current-palette, 'color-dark' );

// =================================================================
// Content Colors
// =================================================================

$content-heading:                     accessible-text( $content-bg, $color-dark, true );
$content-body:                        accessible-text( $content-bg, #000 );
$content-link:                        accessible-text( $content-bg, $color-secondary );
$content-link-hover:                  accessible-text( $content-bg, $color-secondary-dark );


$button-bg:                           $color-tertiary !default;

@if luminance( $button-bg ) < .4 {
	$adjust-base: #fff;
} @else {
	$adjust-base: #000;
}

$button-link:                         accessible-text( $button-bg, $adjust-base, true ) !default;
$button-link-hover:                   accessible-text( $button-bg, $adjust-base, true ) !default;
$quote-accent:                        $color-secondary;

// =================================================================
// Main Navigation Colors
// =================================================================

$nav-bg:                              $color-primary !default;

@if luminance( $nav-bg ) < .4 {
	$adjust-base: #fff;
} @else {
	$adjust-base: #000;
}

$nav-border:                          mix( $adjust-base, $nav-bg, $border-adjust-amt );
$nav-link:                            accessible-text( $nav-bg, $adjust-base, true );
$nav-link-hover:                      accessible-text( $nav-bg, $color-tertiary, true );
$nav-utility-link:                    accessible-text( $nav-bg, mix( $adjust-base, $nav-bg, 60% ), true );
$nav-utility-link-hover:              accessible-text( $nav-bg, mix( $adjust-base, $nav-bg, 80% ), true );

$mega-toggle-bg:                      $button-bg !default;

@if luminance( $mega-toggle-bg ) < .4 {
	$adjust-base: #fff;
} @else {
	$adjust-base: #000;
}

$mega-toggle-link:                    accessible-text( $mega-toggle-bg, $adjust-base, true );
$mega-toggle-link-hover:              accessible-text( $mega-toggle-bg, $adjust-base, true );

// =================================================================
// Sidebar Colors
// =================================================================

$sidebar-bg:                          mix( #000, $color-primary, 15% ) !default;

// This private variable holds the true, final sidebar value after all
// other settings are accounted for. Necessary to allow overrides with
// the default flag above. Do not set directly.

$_sidebar-bg:                         $sidebar-bg;

@if $use-background-colors == true and luminance( $_sidebar-bg ) < .4 {
	$adjust-base: #fff;
} @else {
	$_sidebar-bg:                       $content-bg;
	$adjust-base: #000;
}

$sidebar-widget-title:                accessible-text( $_sidebar-bg, $adjust-base, true );
$sidebar-border:                      mix( $adjust-base, $_sidebar-bg, 10% );
$sidebar-text:                        accessible-text( $_sidebar-bg, mix( $adjust-base, $_sidebar-bg, 70% ) );
$sidebar-button-bg:                   $button-bg;
$sidebar-button-link:                 $button-link;
$sidebar-button-link-hover:           $button-link-hover;

$sidebar-link:                        accessible-text( $_sidebar-bg, $color-secondary );
$sidebar-link-hover:                  accessible-text( $_sidebar-bg, $adjust-base );

// =================================================================
// Footer Colors
// =================================================================

$footbar-bg:                          $color-dark !default;

@if luminance( $footbar-bg ) < .4 {
	$adjust-base: #fff;
} @else {
	$adjust-base: #000;
}

$footbar-link:                        accessible-text( $footbar-bg, $color-tertiary ) !default;
$footbar-link-hover:                  accessible-text( $footbar-bg, $adjust-base );
$footbar-widget-title:                accessible-text( $footbar-bg, $adjust-base, true );
$footbar-border:                      mix( $adjust-base, $footbar-bg, $border-adjust-amt );
$footbar-text:                        accessible-text( $footbar-bg, $adjust-base );
